!function(e,t,n){t.FES={singleton:{},isStringValidJson:function(e){return"string"!=typeof e||e.length<2?!1:/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},getMeta:function(n){var r=e(n);if(r.length>0){var a=r.data("cookieString");a.hasOwnProperty("n")&&a.hasOwnProperty("e")&&(t.FES.singleton.encryption=new t.FES.Encryption,t.FES.singleton.encryption.setPublic(a.n,a.e)),t.FES.base_url=r.data("baseUrl"),r.remove()}},contentTransition:function(t,n,r){if(!t||!n)return!1;var a=e(t),o=e(n).css("display","none"),i=(r||800)/2;a.length>0?(a.html("<div class='stretch-block'>"+a.html()+"</div>"),a.find("> div").each(function(t,n){e(n).fadeOut(i,function(){a.empty(),a.append(o),e(document).trigger("new_content_loaded"),o.fadeIn(i,function(){e(document).trigger("content_transition_end")})})})):console.warn("could not find "+t+" in the DOM...")},submitOnClick:function(t){return t.preventDefault(),e(this).closest("form").submit(),!1},removeOnClick:function(t){return t.preventDefault(),e(this).closest("[data-remove-target]").remove(),!1},expandOnClick:function(t){t.preventDefault();var n=e(this);n.toggleClass("clicked");var r=e("#"+n.data("expand"));return r&&r.length>0&&(r.hasClass("active")?r.fadeOut(300,function(){r.removeClass("active")}):r.fadeIn(400,function(){r.addClass("active")})),!1},removeNotifications:function(){e(".notifications").each(function(t,n){var r=e(n);setTimeout(function(){r.slideUp(300,function(){r.remove()})},15e3)})},onFormSubmit:function(n){n.preventDefault();var r=e(this),a=r.serializeObject();return a&&"string"==typeof a.password&&a.password.length>0&&(a.password=t.FES.singleton.encryption.encrypt(a.password)),r.find(".help-block").remove(),r.find(".error").removeClass("error"),e.ajax({type:r.attr("method"),async:!0,url:r.attr("action"),data:a,dataType:"html",crossDomain:!0,headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0},success:function(e){return 0===e.indexOf("http")?void(t.location.href=e):void t.FES.contentTransition("body",e,600)},error:function(n){if(t.FES.isStringValidJson(n.responseText)){var a=JSON.parse(n.responseText);for(var o in a)if("fields"===o)for(var i in a[o])r.find('[name^="'+i+'"]').each(function(t,n){var r=e(n);r.addClass("error"),r.parent().append(e('<div class="help-block error">'+a[o][i]+"</div>"))});else r.prepend(e('<div class="help-block error">'+a[o]+"</div>"))}else console.error("Error Received: ",n.responseText)}}),!1},onDataLoadClick:function(n){n.preventDefault();var r=e(this),a=r.data("load"),o={table:a,getTemplate:"true"};return"string"!=typeof a||a.length<=0?!1:(e.ajax({type:"GET",async:!0,url:t.FES.base_url+"/tabledata",data:o,crossDomain:!0,headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0},success:function(e){t.FES.currentTable={id:o.table},t.FES.contentTransition("#datatable",e,400)},error:function(e){console.error("error received: ",e.responseText)}}),!1)},globalCellWriter:function(e,t){var n=e.id,r="<td class='data-cell "+n+"'>",a=t[n];return a&&(r+="price"===n||"msrp"===n||"priceEach"===n?"$"+parseFloat(a).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"creditLimit"===n||"amount"===n?0!=a?"$"+parseFloat(a).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/a":a),r+"</td>"}}}(jQuery,window),function(e,t,n){t.FES.Encryption=function(){this.rsa=new RSAKey,this.setPublic=function(e,t){return this.rsa.setPublic(e,t)},this.encrypt=function(e){return this.rsa.encrypt(e)}}}(jQuery,window),function(e,t,n){e(document).ready(function(){e(document).on("submit","form",t.FES.onFormSubmit),e(document).on("click","[data-load]",t.FES.onDataLoadClick),e(document).on("click","[data-submit]",t.FES.submitOnClick),e(document).on("click","[data-remove]",t.FES.removeOnClick),e(document).on("click","[data-expand]",t.FES.expandOnClick),e(document).on("remove_notifications",t.FES.removeNotifications),e(document).trigger("remove_notifications"),e(document).on("content_transition_end",function(){e(document).trigger("remove_notifications")})}),e(function(){t.FES.getMeta("#page-meta"),e(document).on("content_transition_end",function(){if(!e.isEmptyObject(t.FES.currentTable)){var n=e("#"+t.FES.currentTable.id);n.length>0&&n.dynatable({features:{pushState:!1,search:!0},inputs:{queryEvent:"blur change",processingText:""},writers:{_cellWriter:t.FES.globalCellWriter},dataset:{ajax:!0,ajaxUrl:t.FES.base_url+"/tabledata",ajaxCache:null,ajaxOnLoad:!0,ajaxMethod:"GET",ajaxDataType:"json",ajaxData:{table:t.FES.currentTable.id},perPageDefault:50,perPageOptions:[20,50,100,200],records:[]}})}})})}(jQuery,window);