window.FES={singleton:{}},window.FES.Encryption=function(){this.rsa=new RSAKey},window.FES.Encryption.prototype.setPublic=function(t,n){return this.rsa.setPublic(t,n)},window.FES.Encryption.prototype.encrypt=function(t){return this.rsa.encrypt(t)},function(t,n,e){t(function(){var e=t("#page-data");if(e.length>0){var o=e.data("cookieString");o.hasOwnProperty("n")&&o.hasOwnProperty("e")&&(n.singleton.encryption=new n.Encryption,n.singleton.encryption.setPublic(o.n,o.e)),e.remove()}t(document).on("submit","form",function(e){e.preventDefault(),$form=t(this);var o=$form.serializeObject();return o&&"string"==typeof o.password&&o.password.length>0&&(o.password=n.singleton.encryption.encrypt(o.password)),t.ajax({type:$form.attr("method"),async:!0,url:$form.attr("action"),data:o,dataType:"html",crossDomain:!0,headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0},success:function(n){t("body").empty(),t("body").append(n)},error:function(n){"[object String]"===Object.prototype.toString.call(n)?0===n.indexOf("{")&&(n=JSON.parse(n),n.errors&&t.each(n.errors,function(t,n){console.log(n)})):console.log(n)}}),!1})})}(jQuery,window.FES);