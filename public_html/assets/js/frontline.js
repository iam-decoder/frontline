!function(t,e,n){e.FES={singleton:{},isStringValidJson:function(t){return"string"!=typeof t||t.length<2?!1:/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},getMeta:function(n){var a=t(n);if(a.length>0){var r=a.data("cookieString");r.hasOwnProperty("n")&&r.hasOwnProperty("e")&&(e.FES.singleton.encryption=new e.FES.Encryption,e.FES.singleton.encryption.setPublic(r.n,r.e)),e.FES.base_url=a.data("baseUrl"),a.remove()}},contentTransition:function(e,n,a){if(!e||!n)return!1;var r=t(e),o=t(n).css("display","none"),i=(a||800)/2;r.length>0?(r.html("<div class='stretch-block'>"+r.html()+"</div>"),r.find("> div").each(function(e,n){t(n).fadeOut(i,function(){r.empty(),r.append(o),t(document).trigger("new_content_loaded"),o.fadeIn(i,function(){t(document).trigger("content_transition_end")})})})):console.warn("could not find "+e+" in the DOM...")},onFormSubmit:function(n){n.preventDefault();var a=t(this),r=a.serializeObject();return r&&"string"==typeof r.password&&r.password.length>0&&(r.password=e.FES.singleton.encryption.encrypt(r.password)),t.ajax({type:a.attr("method"),async:!0,url:a.attr("action"),data:r,dataType:"html",crossDomain:!0,headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0},success:function(t){e.FES.contentTransition("body",t,600)},error:function(t){console.warn("Error Received: ",t.responseText)}}),!1},onDataLoadClick:function(n){n.preventDefault();var a=t(this),r=a.data("load"),o={table:r,getTemplate:"true"};return"string"!=typeof r||r.length<=0?!1:(t.ajax({type:"GET",async:!0,url:e.FES.base_url+"/tabledata",data:o,crossDomain:!0,headers:{"X-Requested-With":"XMLHttpRequest"},xhrFields:{withCredentials:!0},success:function(t){e.FES.currentTable={id:o.table},e.FES.contentTransition("#datatable",t,400)},error:function(t){console.warn("error received: ",t.responseText)}}),!1)},globalCellWriter:function(t,e){var n=t.id,a="<td class='data-cell "+n+"'>",r=e[n];return r&&(a+="price"===n||"msrp"===n||"priceEach"===n?"$"+parseFloat(r).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"creditLimit"===n||"amount"===n?0!=r?"$"+parseFloat(r).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/a":r),a+"</td>"}}}(jQuery,window),function(t,e,n){e.FES.Encryption=function(){this.rsa=new RSAKey,this.setPublic=function(t,e){return this.rsa.setPublic(t,e)},this.encrypt=function(t){return this.rsa.encrypt(t)}}}(jQuery,window),function(t,e,n){t(document).ready(function(){t(document).on("submit","form",e.FES.onFormSubmit),t(document).on("click","[data-load]",e.FES.onDataLoadClick)}),t(function(){e.FES.getMeta("#page-meta"),t(document).on("content_transition_end",function(){if(!t.isEmptyObject(e.FES.currentTable)){var n=t("#"+e.FES.currentTable.id);n.length>0&&n.dynatable({features:{pushState:!1,search:!1},writers:{_cellWriter:e.FES.globalCellWriter},dataset:{ajax:!0,ajaxUrl:e.FES.base_url+"/tabledata",ajaxCache:null,ajaxOnLoad:!0,ajaxMethod:"GET",ajaxDataType:"json",ajaxData:{table:e.FES.currentTable.id},perPageDefault:50,perPageOptions:[10,20,50,100],records:[]}})}})})}(jQuery,window);